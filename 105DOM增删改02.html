<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM增删改02</title>
    <style>
        body {
            width: 1300px;
        }

        ul {
            margin-left: 30px;
        }

        ul li {
            width: 50px;
            line-height: 40px;
            background-color: #bfa;
            margin-right: 5px;
            text-align: center;
            border: 1px solid black;
            list-style: none;
            float: left;
            margin-bottom: 20px;
        }

        .inner {
            width: 400px;
            /* height: 150px; */
            margin-left: 300px;
            margin-top: 100px;
            border: 1px black solid;
            float: left;
        }

        p {
            margin-left: 50px;
            font-size: 18px;
        }

        .outter {
            width: 250px;
            height: 250px;
            float: left;
            margin-top: 60px;
            margin-left: 50px;
            border: 1px black solid;
        }

        .outter div {
            margin: 15px 0;
            text-align: center;
        }

        button {
            width: 226px;
        }
    </style>
    <script>
        window.onload = function () {

            let liNode = document.createElement("li");
            let city = document.getElementById("city");
            let li = document.getElementsByTagName("li");
            let bj = document.getElementById("bj");

            let getButton = function () {
                let button = document.getElementById(arguments[0]);
                return button;
            };

            // 创建一个“武汉”节点，添加到#city下
            let btn01 = getButton("btn01");
            btn01.onclick = function () {
                if (li[li.length - 1].innerText == "武汉") {
                    city.removeChild(li[li.length - 1]);
                } else {
                    liNode.innerHTML = "武汉";
                    city.appendChild(liNode);
                }
            };

            // 将“武汉”节点插入到#bj前面
            let btn02 = getButton("btn02");
            btn02.onclick = function () {
                if (li[0].innerText == "武汉") {
                    city.removeChild(li[0]);
                } else {
                    liNode.innerText = "武汉";
                    city.insertBefore(liNode, bj);
                }
            };

            // 使用“武汉”节点替换#bj节点
            let btn03 = getButton("btn03");
            btn03.onclick = function () {
                if (li[0].innerText == "武汉") {
                    city.replaceChild(bj, li[0]);
                } else {
                    liNode.innerText = "武汉";
                    city.replaceChild(liNode, bj);
                }
            };

            // 删除#bj节点
            let btn04 = getButton("btn04");
            btn04.onclick = function () {
                if (document.getElementById("bj") != null) {
                    city.removeChild(bj);
                } else {
                    alert("#bj已被删除,请勿重复点击!!!");
                }
            };

            // 读取#city内的HTML代码
            let btn05 = getButton("btn05");
            btn05.onclick = function () {
                alert(city.innerHTML);
            };

            // 设置#bj内的HTML代码
            let btn06 = getButton("btn06");
            btn06.onclick = function () {
                if (document.getElementById("bj") == null) {
                    alert("#bj节点已被删除，无法执行修改操作!!!");
                } else if (bj.innerText == "武汉") {
                    bj.innerText = "北京";
                } else {
                    bj.innerText = "武汉";
                }
            };

        };
    </script>
</head>

<body>
    <div class="inner">
        <p>你喜欢哪个城市?</p>
        <ul id="city">
            <li id="bj">北京</li>
            <li>上海</li>
            <li>广州</li>
            <li>深圳</li>
        </ul>
    </div>
    <div class="outter">
        <div><button id="btn01">创建一个“武汉”节点，添加到#city下</button></div>
        <div><button id="btn02">将“武汉”节点插入到#bj前面</button></div>
        <div><button id="btn03">使用“武汉”节点替换#bj节点</button></div>
        <div><button id="btn04">删除#bj节点</button></div>
        <div><button id="btn05">读取#city内的HTML代码</button></div>
        <div><button id="btn06">设置#bj内的HTML代码</button></div>
    </div>
</body>

</html>
